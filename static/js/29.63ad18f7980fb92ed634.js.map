{"version":3,"sources":["webpack:///src/views/personal/setUp/bankCard.vue","webpack:///./src/views/personal/setUp/bankCard.vue?71a7","webpack:///./src/views/personal/setUp/bankCard.vue"],"names":["bankCard","data","bank_info","bcaddress","bcbankname","bcid","bcnumber","bcusername","show_modal","code_box","count","isDel","tel","components","mounted","this","getInfo","common","changeTitle","methods","_this","axios_default","a","get","api","get_mybankcard","params","token","localStorage","getItem","then","res","status","Object","mint_ui_common","message","className","error","sendCode","_this2","post","get_inforcode","usphone","timer","setInterval","show","clearInterval","changeModal","v","s","Boolean","inputChange","pFocus","document","getElementById","focus","select","updateCard","_this3","join","length","verify_inforcode","ICcode","del_bankcard","BCid","$router","push","path","query","created","setUp_bankCard","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","substring","on","click","$event","_l","item","i","directives","name","rawName","value","expression","attrs","type","id","oninput","domProps","keyup","input","target","composing","$set","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/29.63ad18f7980fb92ed634.js","sourcesContent":["<template>\n    <div class=\"m-bankCard\">\n      <div class=\"m-bankCard-box\">\n        <div class=\"m-one-card\">\n          <div class=\"m-bankCard-name\">{{bank_info.bcbankname}}</div>\n          <div class=\"m-bankCard-type\">储蓄卡</div>\n          <div class=\"m-bankCard-num\">******* ***** ***** ***{{bank_info.bcnumber.substring(bank_info.bcnumber.length-3)}}</div>\n          <span class=\"m-bankCard-cancel\" @click=\"changeModal(true,0)\">修改</span>\n        </div>\n      </div>\n      <div class=\"m-bank-btn\">\n        <span @click=\"changeModal(true,1)\">解除绑定</span>\n      </div>\n\n      <div class=\"m-modal \" v-if=\"show_modal\">\n        <div class=\"m-modal-state m-bank-modal-state\">\n          <div class=\"m-modal-head m-bank\">\n            <p >输入验证码</p>\n            <span class=\"m-close\" @click=\"changeModal(false)\"> x </span>\n          </div>\n          <div class=\"m-modal-content m-bank-modal\">\n            <div class=\"m-bank-tel\">\n              <span>{{tel}}</span>\n              <span class=\"m-bank-time\" v-if=\"count >0\">{{count}}秒</span>\n              <span class=\"m-bank-time\" v-else @click=\"sendCode\">重发</span>\n            </div>\n            <ul class=\"m-bank-input-box\">\n              <template v-for=\"(item,i) in code_box\">\n                <li>\n                  <!--<input type=\"number\" maxlength=\"1\" v-model=\"code_box[i]\">-->\n                  <input type=\"number\" v-model=\"code_box[i]\" :id=\"i\" @keyup=\"inputChange(i)\" oninput=\"if(value.length>1)value=value.slice(0,1)\">\n                </li>\n              </template>\n            </ul>\n            <div class=\"m-bank-modal-btn\">\n              <span @click=\"updateCard(true)\" v-if=\"isDel\">解除银行卡</span>\n              <span @click=\"updateCard(false)\" v-else>修改银行卡</span>\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import axios from 'axios';\n  import api from '../../../api/api';\n  import {Toast} from 'mint-ui';\n  import common from '../../../common/js/common';\n    export default {\n        data() {\n            return {\n                bank_info:{\n                  bcaddress: \"\",\n                  bcbankname: \"\",\n                  bcid: \"\",\n                  bcnumber: \"\",\n                  bcusername: \"\"\n                },\n              show_modal:false,\n              code_box:[\n                '','','','','',''\n              ],\n              count:0,\n              isDel:true,\n              tel:''\n            }\n        },\n        components: {},\n      mounted(){\n        this.getInfo();\n        common.changeTitle('银行卡');\n      },\n        methods: {\n          getInfo(){\n            axios.get(api.get_mybankcard,{\n              params:{\n                token:localStorage.getItem('token')\n              }\n            }).then(res => {\n              if(res.data.status == 200){\n                  this.bank_info = res.data.data;\n              }else{\n                Toast({ message: res.data.message, className: 'm-toast-fail' });\n              }\n            },error => {\n              Toast({ message: error.data.message, className: 'm-toast-fail' });            })\n          },\n          sendCode(){\n            const TIME_COUNT = 60;\n            axios.post(api.get_inforcode +'?token=' + localStorage.getItem('token')).then(res => {\n              if(res.data.status == 200){\n                Toast({ message: res.data.message, className: 'm-toast-success' });\n                this.tel = res.data.usphone;\n              }else{\n                Toast({ message: res.data.message, className: 'm-toast-fail' });\n                return false;\n              }\n            });\n            if (!this.timer) {\n              this.count = TIME_COUNT;\n              this.timer = setInterval(() => {\n                if (this.count > 0 && this.count <= TIME_COUNT) {\n                  this.count--;\n                } else {\n                  this.show = true;\n                  clearInterval(this.timer);\n                  this.timer = null;\n                }\n              }, 1000)\n            }\n          },\n          changeModal(v,s){\n            this.show_modal = v;\n            if(!v){\n              this.code_box = ['','','','','',''];\n            }\n            if(s === 0 || s===1){\n              this.isDel = Boolean(s);\n              this.sendCode();\n            }\n          },\n          inputChange(v){\n            if(this.code_box[v] != ''){\n              if(v == 5){\n                return false;\n              }\n              let pFocus = document.getElementById(v +1);\n              pFocus.focus();\n              pFocus.select();\n            }\n          },\n          updateCard(v){\n            if(this.code_box.join('').length <6){\n              return false;\n            }\n            axios.post(api.verify_inforcode+'?token=' + localStorage.getItem('token'),{\n              ICcode:this.code_box.join('')\n            }).then(res => {\n              if(res.data.status ==200){\n                if(v){\n                  axios.post(api.del_bankcard +'?token='+localStorage.getItem('token'),{\n                    BCid:this.bank_info.bcid\n                  }).then(res => {\n                    Toast({ message: res.data.message, className: 'm-toast-success' });\n                    this.$router.push({path:'/setUp',query:this.bank_info})\n                  })\n                }else{\n                  this.$router.push({path:'/addBankCard',query:this.bank_info})\n                }\n\n              }else{\n                Toast({ message: res.data.message, className: 'm-toast-fail' });\n              }\n            },error => {\n              Toast({ message: error.data.message, className: 'm-toast-fail' });            })\n          }\n        },\n        created() {\n\n        }\n    }\n</script>\n<style lang=\"less\" rel=\"stylesheet/less\" scoped>\n  @import \"../../../common/css/modal\";\n.m-bankCard{\n  background-color: #f2f5f7;\n  height: 100%;\n  padding: 0 35px;\n  .m-bankCard-box{\n    padding: 40px 0;\n    .m-one-card{\n      width: 680px;\n      height: 207px;\n      border-radius: 10px;\n      padding: 20px 0;\n      background-image: linear-gradient(to right, #37df8e, #12cca2);\n      box-shadow: 0 5px 13px 0 rgba(66, 66, 66, 0.43);\n      color: #fff;\n      position: relative;\n      div{\n        padding: 0 33px;\n        text-align: left;\n        line-height: 29px;\n        &.m-bankCard-name{\n          font-size: 26px;\n        }\n        &.m-bankCard-type{\n          font-size: 18px;\n          margin: 10px 0;\n        }\n        &.m-bankCard-num{\n          font-size: 30px;\n        }\n      }\n      .m-bankCard-cancel{\n        position: absolute;\n        right: 26px;\n        bottom: 20px;\n        border: 1px solid #fff;\n        padding: 5px 20px;\n      }\n    }\n  }\n  .m-bank-btn{\n    margin-top: 30px;\n    span{\n      display: inline-block;\n      width: 640px;\n      background-color: #e68b8b;\n      color: #fff;\n      font-size: 28px;\n      border-radius: 6px;\n      height: 70px;\n      line-height: 70px;\n    }\n  }\n}\n.m-bank-tel{\n  color: #a4a4a4;\n  font-size: 20px;\n  margin-top: 40px;\n  .m-bank-time{\n    display: inline-block;\n    width: 90px;\n    height: 32px;\n    line-height: 32px;\n    border: 1px solid #a4a4a4;\n    margin-left: 10px;\n  }\n}\n  .m-bank-input-box{\n    display: flex;\n    flex-flow: row;\n    align-items: center;\n    justify-content: space-around;\n    margin: 40px 0;\n    input{\n      display: block;\n      width: 66px;\n      height: 66px;\n      border: 1px solid #a4a4a4;\n      box-shadow: 0.8px 0.5px 1px 0 rgba(66, 66, 66, 0.55);\n      text-align: center;\n      font-size: 30px;\n    }\n\n  }\n.m-bank-modal-btn{\n  span{\n    display: inline-block;\n    width: 160px;\n    height: 46px;\n    border: 1px solid #a4a4a4;\n    border-radius: 10px;\n    line-height: 46px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/personal/setUp/bankCard.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-bankCard\"},[_c('div',{staticClass:\"m-bankCard-box\"},[_c('div',{staticClass:\"m-one-card\"},[_c('div',{staticClass:\"m-bankCard-name\"},[_vm._v(_vm._s(_vm.bank_info.bcbankname))]),_vm._v(\" \"),_c('div',{staticClass:\"m-bankCard-type\"},[_vm._v(\"储蓄卡\")]),_vm._v(\" \"),_c('div',{staticClass:\"m-bankCard-num\"},[_vm._v(\"******* ***** ***** ***\"+_vm._s(_vm.bank_info.bcnumber.substring(_vm.bank_info.bcnumber.length-3)))]),_vm._v(\" \"),_c('span',{staticClass:\"m-bankCard-cancel\",on:{\"click\":function($event){_vm.changeModal(true,0)}}},[_vm._v(\"修改\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"m-bank-btn\"},[_c('span',{on:{\"click\":function($event){_vm.changeModal(true,1)}}},[_vm._v(\"解除绑定\")])]),_vm._v(\" \"),(_vm.show_modal)?_c('div',{staticClass:\"m-modal \"},[_c('div',{staticClass:\"m-modal-state m-bank-modal-state\"},[_c('div',{staticClass:\"m-modal-head m-bank\"},[_c('p',[_vm._v(\"输入验证码\")]),_vm._v(\" \"),_c('span',{staticClass:\"m-close\",on:{\"click\":function($event){_vm.changeModal(false)}}},[_vm._v(\" x \")])]),_vm._v(\" \"),_c('div',{staticClass:\"m-modal-content m-bank-modal\"},[_c('div',{staticClass:\"m-bank-tel\"},[_c('span',[_vm._v(_vm._s(_vm.tel))]),_vm._v(\" \"),(_vm.count >0)?_c('span',{staticClass:\"m-bank-time\"},[_vm._v(_vm._s(_vm.count)+\"秒\")]):_c('span',{staticClass:\"m-bank-time\",on:{\"click\":_vm.sendCode}},[_vm._v(\"重发\")])]),_vm._v(\" \"),_c('ul',{staticClass:\"m-bank-input-box\"},[_vm._l((_vm.code_box),function(item,i){return [_c('li',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.code_box[i]),expression:\"code_box[i]\"}],attrs:{\"type\":\"number\",\"id\":i,\"oninput\":\"if(value.length>1)value=value.slice(0,1)\"},domProps:{\"value\":(_vm.code_box[i])},on:{\"keyup\":function($event){_vm.inputChange(i)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.code_box, i, $event.target.value)}}})])]})],2),_vm._v(\" \"),_c('div',{staticClass:\"m-bank-modal-btn\"},[(_vm.isDel)?_c('span',{on:{\"click\":function($event){_vm.updateCard(true)}}},[_vm._v(\"解除银行卡\")]):_c('span',{on:{\"click\":function($event){_vm.updateCard(false)}}},[_vm._v(\"修改银行卡\")])])])])]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4704db9b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/personal/setUp/bankCard.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4704db9b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./bankCard.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./bankCard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./bankCard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4704db9b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./bankCard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4704db9b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/personal/setUp/bankCard.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}