{"version":3,"sources":["webpack:///src/views/shopping/orderPayOK.vue","webpack:///./src/views/shopping/orderPayOK.vue?684f","webpack:///./src/views/shopping/orderPayOK.vue"],"names":["orderPayOK","data","name","order","methods","shareImg","productImgList","canvas","document","createElement","context","getContext","height","length","width","rect","fillStyle","fill","font","i","fillText","_i","img0","Image","crossOrigin","src","onload","img1","drawImage","img2","img3","img4","img5","img6","img9","img7","img8","base64","toDataURL","getElementById","setAttribute","img","style","orderDetail","this","$router","push","path","query","returnHome","mounted","created","$route","shopping_orderPayOK","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","$event","_v","staticStyle","attrs","id","alt","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"2HA4BA,IAAAA,GACAC,KADA,WAEA,OACAC,KAAA,aACAC,WAIAC,SAEAC,SAFA,WAIA,IAAAC,GAAA,yLAGAC,EAAAC,SAAAC,cAAA,UACAC,EAAAH,EAAAI,WAAA,MAGAJ,EAAAK,OAAA,KACA,GAAAN,EAAAO,OACAN,EAAAO,MAAA,KACA,GAAAR,EAAAO,SACAN,EAAAO,MAAA,MAGAJ,EAAAK,KAAA,IAAAR,EAAAO,MAAAP,EAAAK,QACAF,EAAAM,UAAA,OACAN,EAAAO,OAGAP,EAAAM,UAAA,UACAN,EAAAQ,KAAA,mBAGA,IAFA,IAAAhB,EAAA,wCAEAiB,EAAA,EAAAA,EADA,GACAA,IACAT,EAAAU,SAAAlB,EAAAiB,GAAA,MAAAA,EAAA,KAEA,QAAAE,EAJA,GAIAA,EAAA,GAAAA,IACAX,EAAAU,SAAAlB,EAAAmB,GAAA,OAAAA,EALA,IAKA,MACA,IAAAA,GACAX,EAAAU,SAAA,aAAAC,EAPA,GAOA,SAKAX,EAAAM,UAAA,UACAN,EAAAQ,KAAA,wBACAR,EAAAU,SAAA,aACAV,EAAAQ,KAAA,wBACAR,EAAAU,SAAA,gBACAV,EAAAQ,KAAA,wBACAR,EAAAU,SAAA,iBAGAV,EAAAM,UAAA,UACAN,EAAAQ,KAAA,mBACAR,EAAAU,SAAA,sBAGA,IAAAE,EAAA,IAAAC,MACAD,EAAAE,YAAA,YACAF,EAAAG,IAAA,mCAGAH,EAAAI,OAAA,WAEA,IAAAC,EAAA,IAAAJ,MACAI,EAAAH,YAAA,YACAG,EAAAF,IAAA,iCACAE,EAAAD,OAAA,WACAhB,EAAAkB,UAAAD,EAAA,iBAEA,IAAAE,EAAA,IAAAN,MACAM,EAAAL,YAAA,YACAK,EAAAJ,IAAA,kCACAI,EAAAH,OAAA,WACAhB,EAAAkB,UAAAC,EAAA,iBAEA,IAAAC,EAAA,IAAAP,MACAO,EAAAN,YAAA,YACAM,EAAAL,IAAA,sCACAK,EAAAJ,OAAA,WACAhB,EAAAkB,UAAAE,EAAA,eAEA,IAAAC,EAAA,IAAAR,MACAQ,EAAAP,YAAA,YACAO,EAAAN,IAAAnB,EAAA,GACAyB,EAAAL,OAAA,WACAhB,EAAAkB,UAAAG,EAAA,eAEA,IAAAC,EAAA,IAAAT,MACAS,EAAAR,YAAA,YACAQ,EAAAP,IAAAnB,EAAA,GACA0B,EAAAN,OAAA,WACAhB,EAAAkB,UAAAI,EAAA,gBAEA,IAAAC,EAAA,IAAAV,MACAU,EAAAT,YAAA,YACAS,EAAAR,IAAAnB,EAAA,GACA2B,EAAAP,OAAA,WACAhB,EAAAkB,UAAAK,EAAA,iBAEA,IAAAC,EAAA,IAAAX,MACAW,EAAAV,YAAA,YACAU,EAAAT,IAAA,kCACAS,EAAAR,OAAA,WAIA,GAHAhB,EAAAkB,UAAAM,EAAA,iBAGA,GAAA5B,EAAAO,OAAA,CAEA,IAAAsB,EAAA,IAAAZ,MACAY,EAAAX,YAAA,YACAW,EAAAV,IAAAnB,EAAA,GACA6B,EAAAT,OAAA,WACAhB,EAAAkB,UAAAO,EAAA,iBAEA,IAAAC,EAAA,IAAAb,MACAa,EAAAZ,YAAA,YACAY,EAAAX,IAAAnB,EAAA,GACA8B,EAAAV,OAAA,WACAhB,EAAAkB,UAAAQ,EAAA,kBAEA,IAAAC,EAAA9B,EAAA+B,UAAA,aACA9B,SAAA+B,eAAA,UAGAC,aAAA,MAAAH,KAKA,MAAA/B,EAAAO,OAAA,CACA,IAAAwB,EAAA9B,EAAA+B,UAAA,aACAG,EAAAjC,SAAA+B,eAAA,UAEAE,EAAAC,MAAA5B,MAAA,QACA2B,EAAAC,MAAA9B,OAAA,QAEA6B,EAAAD,aAAA,MAAAH,aAeAM,YAnJA,WAoJA,IAAAxC,EAAAyC,KAAAzC,MACAyC,KAAAC,QAAAC,MAAAC,KAAA,eAAAC,OAAA7C,YAGA8C,WAxJA,WAyJAL,KAAAC,QAAAC,KAAA,YAGAI,QApKA,aAuKAC,QAvKA,WAwKAP,KAAAzC,MAAAyC,KAAAQ,OAAAJ,MAAA7C,QCjMAkD,GADiBC,OAFjB,WAA0B,IAAAC,EAAAX,KAAaY,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,YAAA,UAAoBF,EAAA,OAAYE,YAAA,kCAAAC,IAAkDC,MAAA,SAAAC,GAAyBR,EAAAlD,eAAiBkD,EAAAS,GAAA,YAAAT,EAAAS,GAAA,KAAAN,EAAA,OAA2CO,aAAanD,MAAA,QAAAF,OAAA,SAAiCsD,OAAQC,GAAA,SAAA1C,IAAA,GAAA2C,IAAA,MAAiCb,EAAAS,GAAA,KAAAN,EAAA,UAA2BQ,OAAOC,GAAA,cAAiBZ,EAAAS,GAAA,sEAEpZK,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACAxE,EACAqD,GATA,EAVA,SAAAoB,GACAF,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/18.6d4278e1fa039f60d5e0.js","sourcesContent":["<template>\n  <div>\n    <!--<img src=\"/static/images/order_pay_OK.png\" class=\"m-ok-img\">\n    <p class=\"m-ft-40 m-black m-ft-b\">订单支付成功</p>\n    <p class=\"price-text m-black m-ft-b\">￥<span class=\"m-ft-34\">159.00</span></p>\n    <p class=\"order-text m-ft-30 m-grey\">仓库正为您备货中</p>\n    <div class=\"m-btn\">\n      <div class=\"m-btn-text m-ft-28 m-grey-color\" @click=\"orderDetail\">查看订单</div>\n      <div class=\"m-btn-text m-ft-28 m-grey-color\" @click=\"returnHome\">返回首页</div>\n    </div>-->\n\n\n    <div class=\"m-btn\">\n      <div class=\"m-btn-text m-ft-28 m-grey-color\"  @click=\"shareImg()\">查看订单</div>\n    </div>\n\n    <img id=\"avatar\" src=\"\" alt=\"\" style=\"width: 344px; height: 204px\">\n\n    <!--<canvas id=\"myCanvas\" style=\"border: 1px #d3d3d3 solid;\">-->\n    <canvas id=\"myCanvas\">\n      Your browser does not support the HTML5 canvas tag.\n    </canvas>\n\n  </div>\n</template>\n\n<script>\n\n  export default {\n    data() {\n      return {\n        name: \"orderPayOK\",\n        order: {}\n      }\n    },\n    // components: {  },\n    methods: {\n      // 合成图片\n      shareImg() {\n\n        let productImgList = [\"https://daaiti.cn/static/clothesdemo0919120348.png\", \"http://pic.58pic.com/58pic/15/63/07/42Q58PIC42U_1024.jpg\", \"/static/images/share/product2.png\", \"/static/images/share/product4.png\"];\n        // let productImgList = [\"/static/images/share/product1.png\", \"/static/images/share/product2.png\", \"/static/images/share/product2.png\", \"/static/images/share/product4.png\", \"/static/images/share/product5.png\", \"/static/images/share/product.jpg\"];\n\n        let canvas = document.createElement(\"canvas\");\n        let context = canvas.getContext(\"2d\");\n\n        // 小集合图、大集合图\n        canvas.height = 1275;\n        if(productImgList.length == 4) {\n          canvas.width = 1525;\n        }else if(productImgList.length == 6) {\n          canvas.width = 2150;\n        }\n\n        context.rect(0 , 0 , canvas.width , canvas.height);\n        context.fillStyle = \"#fff\";\n        context.fill();\n\n        // 处理商品标题的字间距\n        context.fillStyle = \"#000000\";\n        context.font=\"30px PingFang-SC\";\n        let name = \"商品标题商品标题商品标题商品标题商品标题商品标题商品标题商品标题商品标题商\";\n        let col = 12;\n        for(let i = 0; i < col; i ++) {\n          context.fillText(name[i], (90 + 34 * i), 970);\n        }\n        for(let i = col; i < (2 * col - 1); i ++) {\n          context.fillText(name[i], (90 + 34 * (i - col)), 1015);\n          if(i == (2 * col - 2)) {\n            context.fillText(\"...\", 90 + 34 * (i - col + 1), 1015);\n          }\n        }\n\n        // 添加价格文字\n        context.fillStyle = \"#f43b51\";\n        context.font=\"bold 30px PingFang-SC\";\n        context.fillText(\"￥\", 90, 1150);\n        context.font=\"bold 58px PingFang-SC\";\n        context.fillText(\"129\", 120, 1150);\n        context.font=\"bold 30px PingFang-SC\";\n        context.fillText(\". 50\", 230, 1150);\n\n        // 添加原价文字\n        context.fillStyle = \"#a4a4a4\";\n        context.font=\"30px PingFang-SC\";\n        context.fillText(\"原价：￥298.50\", 90, 1200);\n\n        // 创建要添加到canvas上的image对象\n        let img0 = new Image();\n        img0.crossOrigin = 'Anonymous';   // 设置图像的跨域属性-允许跨域\n        img0.src = \"/static/images/share/bg_test.png\";  // 背景图\n\n        // 依次往canvas上填充\n        img0.onload = function(){\n\n          let img1 = new Image();\n          img1.crossOrigin = 'Anonymous';\n          img1.src = \"/static/images/share/sweep.png\";    // 扫码下单\n          img1.onload = function(){\n            context.drawImage(img1 , 560 , 1190 , 260 , 60);\n\n            let img2 = new Image();\n            img2.crossOrigin = 'Anonymous';\n            img2.src = \"/static/images/share/Qrcode.png\";    // 二维码\n            img2.onload = function(){\n              context.drawImage(img2 , 560 , 920 , 260 , 260);\n\n              let img3 = new Image();\n              img3.crossOrigin = 'Anonymous';\n              img3.src = \"/static/images/share/commitment.png\";   // 三个背景为红色的承诺\n              img3.onload = function(){\n                context.drawImage(img3 , 50 , 825 , 800 , 55);\n\n                let img4 = new Image();\n                img4.crossOrigin = 'Anonymous';\n                img4.src = productImgList[0];\n                img4.onload = function(){\n                  context.drawImage(img4 , 50 , 25 , 800 , 800);\n\n                  let img5 = new Image();\n                  img5.crossOrigin = 'Anonymous';\n                  img5.src = productImgList[1];\n                  img5.onload = function(){\n                    context.drawImage(img5 , 875 , 25 , 600 , 600);\n\n                    let img6 = new Image();\n                    img6.crossOrigin = 'Anonymous';\n                    img6.src = productImgList[2];\n                    img6.onload = function(){\n                      context.drawImage(img6 , 875 , 650 , 600 , 600);\n\n                      let img9 = new Image();\n                      img9.crossOrigin = 'Anonymous';\n                      img9.src = \"/static/images/share/delete.png\";\n                      img9.onload = function(){\n                        context.drawImage(img9 , 175 , 1180 , 150 , 20);\n\n                        // 大集合图\n                        if(productImgList.length == 6) {\n\n                          let img7 = new Image();\n                          img7.crossOrigin = 'Anonymous';\n                          img7.src = productImgList[3];\n                          img7.onload = function(){\n                            context.drawImage(img7 , 1500 , 25 , 600 , 600);\n\n                            let img8 = new Image();\n                            img8.crossOrigin = 'Anonymous';\n                            img8.src = productImgList[4];\n                            img8.onload = function(){\n                              context.drawImage(img8 , 1500 , 650 , 600 , 600);\n\n                              let base64 = canvas.toDataURL(\"image/png\");  //\"image/png\" 这里注意一下\n                              let img = document.getElementById('avatar');\n\n                              // document.getElementById('avatar').src = base64;\n                              img.setAttribute('src' , base64);\n                            }\n                          }\n                        }\n                        // 小集合图\n                        if(productImgList.length == 4) {\n                          let base64 = canvas.toDataURL(\"image/png\");  //\"image/png\" 这里注意一下\n                          let img = document.getElementById('avatar');\n\n                          img.style.width = \"244px\";\n                          img.style.height = \"204px\";\n                          // document.getElementById('avatar').src = base64;\n                          img.setAttribute('src' , base64);\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        };\n      },\n\n\n\n      // 查看订单\n      orderDetail() {\n        let order = this.order;\n        this.$router.push({path: \"/orderStatus\", query: { order }});\n      },\n      // 返回首页\n      returnHome() {\n        this.$router.push('/index');\n      }\n    },\n    mounted() {\n\n    },\n    created() {\n      this.order = this.$route.query.order;\n      // console.log(\"order\", this.order);\n    }\n  }\n</script>\n\n<style lang=\"less\" rel=\"stylesheet/less\" scoped>\n  @import \"../../common/css/index\";\n\n  .m-ok-img {\n    width: 198px;\n    height: 191px;\n    margin: 260px 0 70px 0;\n  }\n  .price-text {\n    margin-top: 60px;\n  }\n  .order-text {\n    margin: 20px 0 80px 0;\n  }\n  .m-btn {\n    display: flex;\n    .m-btn-text {\n      width: 115px;\n      margin: 0 65px;\n      padding: 26px 63px;\n      border-radius: 4px;\n      white-space: nowrap;\n      border: 2px solid @grey;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/shopping/orderPayOK.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"m-btn\"},[_c('div',{staticClass:\"m-btn-text m-ft-28 m-grey-color\",on:{\"click\":function($event){_vm.shareImg()}}},[_vm._v(\"查看订单\")])]),_vm._v(\" \"),_c('img',{staticStyle:{\"width\":\"344px\",\"height\":\"204px\"},attrs:{\"id\":\"avatar\",\"src\":\"\",\"alt\":\"\"}}),_vm._v(\" \"),_c('canvas',{attrs:{\"id\":\"myCanvas\"}},[_vm._v(\"\\n    Your browser does not support the HTML5 canvas tag.\\n  \")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-abb67f60\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/shopping/orderPayOK.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-abb67f60\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":true}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./orderPayOK.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./orderPayOK.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./orderPayOK.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-abb67f60\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./orderPayOK.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-abb67f60\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/shopping/orderPayOK.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}