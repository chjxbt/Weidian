webpackJsonp([8],{"0Gzh":function(t,a){},A2Dw:function(t,a,s){"use strict";var i={name:"search",data:function(){return{value:""}},props:{search:{type:Boolean,default:!0}},methods:{inputClick:function(t){t.preventDefault(),this.$emit("inputClick")},searchClick:function(){this.$emit("searchClick",this.value)}}},e={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"m-search"},[t.search?s("div",{staticClass:"m-search-text",on:{click:t.inputClick}},[s("span",{staticClass:"m-search-icon",on:{click:t.inputClick}}),t._v(" "),s("span",{on:{click:t.inputClick}},[t._v("搜索商品、品牌")])]):t._e(),t._v(" "),t.search?t._e():s("div",{staticClass:"m-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"text",autofocus:"!search",placeholder:""},domProps:{value:t.value},on:{input:function(a){a.target.composing||(t.value=a.target.value)}}}),t._v(" "),s("span",{on:{click:function(a){return a.stopPropagation(),t.searchClick(a)}}},[t._v("搜索")])])])},staticRenderFns:[]};var n=s("VU/8")(i,e,!1,function(t){s("ieIn")},null,null);a.a=n.exports},JXTs:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=s("woOf"),e=s.n(i),n=s("C3lA"),o=s("A2Dw"),c=s("Y43X"),l=s("e81K"),r=s("P9l9"),m=s("mtWM"),h=s.n(m),d=s("Au9i"),_=s("flXH"),v=s("CaOM"),u=s("iO08"),f=(s("fxnj"),{mixins:[_.a],data:function(){return{course:1,count:2,total_count:0,search:!0,show_course:!1,show_modal:!1,show_task:!1,show_fixed:!1,show_task_btn:!0,show_fen:!1,_fixed:null,swipe_items:[{title:"你的名字",href:"http://google.com",url:"http://www.baidu.com/img/bd_logo1.png"},{title:"我的名字",href:"http://baidu.com",url:"http://www.baidu.com/img/bd_logo1.png"}],hot_list:[],hot_index:0,interval:null,activity_list:[],nav_list:[{sub:[],tnid:"c3281b16-ab6b-11e8-97e2-00163e0cc024",tnname:"特卖",tntype:1,tsort:57}],icon_list:[{src:"icon-like",name:"123123",url:"icon-like"},{src:"icon-share",name:"转发",url:"icon-share"}],isScroll:!0}},components:{navbar:n.a,search:o.a,ctx:c.a,share:l.a,attention:u.a},mounted:function(){this.getSwipe(),this.getHot(),this.getTopnav();this.interval=window.setInterval(this.animation,3e3),_.a.wxRegister(this.wxRegCallback)},methods:{touchStart:function(){},touchMove:function(){this.show_task_btn=!1,this.search=!0,this.show_fixed=!1;var t=v.a.getScrollTop(),a=v.a.getScrollHeight();t+v.a.getClientHeight()>=a-10&&this.isScroll&&(this.isScroll=!1,this.activity_list.length==this.total_count?Object(d.Toast)({message:"数据已加载完",className:"m-toast-warning"}):this.loadBottom())},touchEnd:function(){this.show_task_btn=!0},wxRegCallback:function(){this.wxShare()},wxShare:function(t,a){var s=window.location.href,i={title:"微点"+a.acid,link:s,success:function(){alert("分享成功")},error:function(){alert("分享失败")}};switch(t){case"appmessage":_.a.ShareTimeline(i),this.show_fen=!0;break;case"line":_.a.ShareAppMessage(i),this.show_fen=!0}},share:function(t){this.wxShare(t,this._fixed)},fenClick:function(){this.show_fen=!1},getTopnav:function(){var t=this;h.a.get(r.a.get_home_topnav).then(function(a){if(200==a.data.status){t.nav_list=[].concat(a.data.data);for(var s=0;s<t.nav_list.length;s++)t.nav_list[s].click=!1;t.nav_list[0].click=!0,t.getActivity(t.nav_list[0].tnid)}else Object(d.Toast)({message:a.data.message,className:"m-toast-fail"})})},getSwipe:function(){var t=this;h.a.get(r.a.get_all_banner,{params:{lasting:!0}}).then(function(a){200==a.data.status?t.swipe_items=a.data.data:Object(d.Toast)({message:a.data.message,className:"m-toast-fail"})})},getHot:function(){var t=this;h.a.get(r.a.get_all_hotmessage,{params:{lasting:!0}}).then(function(a){200==a.data.status?t.hot_list=a.data.data:Object(d.Toast)({message:a.data.message,className:"m-toast-fail"})})},getActivity:function(t,a,s){var i=this;h.a.get(r.a.get_all_activity+"?token="+localStorage.getItem("token"),{params:{lasting:!0,start:a||0,count:s||this.count,tnid:t}}).then(function(t){if(200==t.data.status){i.isScroll=!0,i.total_count=t.data.count,i.activity_list=a?i.activity_list.concat(t.data.data):t.data.data;for(var s=[].concat(i.activity_list),e=0;e<s.length;e++){var n=[{src:"icon-like",name:"123123",url:"icon-like"},{src:"icon-share",name:"转发",url:"icon-share"}];n[0].name=s[e].likenum,n[0].alreadylike=s[e].alreadylike,s[e].actext.length>92&&(s[e].show_text=!0),s[e].icon=[].concat(n)}i.activity_list=[].concat(s)}else Object(d.Toast)({message:t.data.message,className:"m-toast-fail"})})},animation:function(t){t=t||1,this.hot_index==this.hot_list.length-1?this.hot_index=0:this.hot_index=this.hot_index+t},changeLike:function(t,a){var s=this.activity_list[a].icon[0];h.a.post(r.a.ac_like+"?token="+localStorage.getItem("token"),{acid:t}).then(function(t){200==t.data.status?(s.alreadylike?(s.name-=1,s.alreadylike=!1,Object(d.Toast)({message:t.data.message,className:"m-toast-warning"})):s.alreadylike||(s.name=Number(s.name)+1,s.alreadylike=!0,Object(d.Toast)({message:t.data.message,className:"m-toast-success"})),console.log(s)):Object(d.Toast)({message:t.data.message,className:"m-toast-fail"})})},inputClick:function(){this.search=!1},searchClick:function(t){var a=this;h.a.get(r.a.get_search,{params:{token:localStorage.getItem("token"),PRname:t,page:1,start:0,count:this.count}}).then(function(t){if(200==t.data.status){t.data.data.length<1&&Object(d.Toast)({message:"无匹配内容",className:"m-toast-warning"}),a.activity_list=t.data.data;for(var s=0;s<a.activity_list.length;s++)a.activity_list[s].icon=a.icon_list,a.activity_list[s].icon[0].name=a.activity_list[s].likenum,a.activity_list[s].icon[0].alreadylike=a.activity_list[s].alreadylike,a.activity_list[s].actext.length>92&&(a.activity_list[s].show_text=!0)}else Object(d.Toast)({message:t.data.message,className:"m-toast-fail"})})},closeModal:function(t){console.log(t),this[t]=!1},showModal:function(t){this[t]=!0},fixedClick:function(){this.show_fixed=!1},navClick:function(t){for(var a=this.nav_list,s=0;s<a.length;s++)a[s].click=!1;a[t].click=!0,this.nav_list=[].concat(a),this.getActivity(this.nav_list[t].tnid)},iconClick:function(t,a){switch(t){case 0:this.changeLike(this.activity_list[a].acid,a);break;case 1:this.show_fixed=!0,this._fixed=this.activity_list[a]}},download:function(t){var a=this;this.$copyText(window.location.href).then(function(t){a.show_modal=!0},function(t){})},showMoreText:function(t,a){var s=[].concat(this.activity_list);s[a]=e()({},s[a],{show_text:t}),this.activity_list=[].concat(s)},loadTop:function(){for(var t=0;t<this.nav_list.length;t++)this.nav_list[t].click&&this.getActivity(this.nav_list[t].tnid);this.$refs.loadmore.onTopLoaded()},loadBottom:function(){for(var t=0;t<this.nav_list.length;t++)this.nav_list[t].click&&this.getActivity(this.nav_list[t].tnid,this.activity_list.length)},courseClick:function(){this.course<6?this.course+=1:this.show_course=!1}}}),g={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"m-index",on:{touchmove:t.touchMove,touchend:t.touchEnd,touchstart:t.touchStart}},[s("div",{staticClass:"m-suspend-btn ",class:t.show_task_btn?"":"active",attrs:{id:"m-suspend-btn"},on:{click:function(a){a.stopPropagation(),t.showModal("show_task")}}},[s("span",[t._v("开始转发")])]),t._v(" "),s("mt-loadmore",{ref:"loadmore",attrs:{"top-method":t.loadTop,"bottom-all-loaded":!t.isScroll}},[s("div",{staticClass:"m-top"},[s("search",{attrs:{search:t.search},on:{searchClick:t.searchClick,inputClick:t.inputClick}}),t._v(" "),s("navbar",{attrs:{list:t.nav_list},on:{navClick:t.navClick}})],1),t._v(" "),s("mt-swipe",{attrs:{auto:2e3}},t._l(t.swipe_items,function(a){return s("mt-swipe-item",{key:a.baid},[s("a",{attrs:{href:a.href,rel:"external nofollow"}},[s("img",{staticClass:"img",attrs:{src:a.baimage}}),t._v(" "),s("span",{staticClass:"desc"})])])})),t._v(" "),s("div",{staticClass:"m-recommend"},[t._l(t.hot_list,function(a,i){return[s("div",{staticClass:"m-recommend-one",class:i==t.hot_index?"active":"",attrs:{keys:a.hmid}},[s("span",{staticClass:"m-recommend-span"},[s("span",{staticClass:"m-recommend-label"},[t._v("热文")]),t._v(" "),s("span",[t._v(t._s(a.hmtext))])])])]})],2),t._v(" "),s("div",{staticClass:"m-index-section"},[t._l(t.activity_list,function(a,i){return[s("ctx",{attrs:{icon:t.icon_list,list:a,index:i},on:{iconClick:t.iconClick,showMoreText:t.showMoreText}})]})],2)],1),t._v(" "),t.show_modal?s("div",{staticClass:"m-modal m-copy-text"},[s("div",{staticClass:"m-modal-state"},[s("div",{staticClass:"m-modal-head"},[s("span",{staticClass:"m-close",on:{click:function(a){t.closeModal("show_modal")}}},[t._v(" x ")])]),t._v(" "),t._m(0)])]):t._e(),t._v(" "),t.show_task?s("div",{staticClass:"m-modal"},[s("div",{staticClass:"m-modal-state"},[s("div",{staticClass:"m-modal-head"},[s("span",{staticClass:"m-close",on:{click:function(a){t.closeModal("show_task")}}},[t._v(" x ")])]),t._v(" "),t._m(1)])]):t._e(),t._v(" "),t.show_fixed?s("attention",{on:{closeModal:function(a){t.closeModal("show_fixed")}}}):t._e(),t._v(" "),t.show_course?s("img",{staticClass:"m-course-img",attrs:{src:"/static/images/course/course-"+t.course+".png",alt:""},on:{click:function(a){return a.stopPropagation(),t.courseClick(a)}}}):t._e(),t._v(" "),t.show_fen?s("img",{staticClass:"m-course-img",attrs:{src:"/static/images/fen.png",alt:""},on:{click:function(a){return a.stopPropagation(),t.fenClick(a)}}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"m-modal-content"},[a("h3",[this._v("链接已经复制成功")]),this._v(" "),a("p",[this._v("您可以去分享给好友啦！\n        ")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"m-modal-content"},[s("h3",{staticClass:"m-modal-award-title"},[s("span",[t._v("奖励任务")]),t._v(" "),s("span",{staticClass:"m-modal-award-info"},[t._v("15元新衣币*2张")])]),t._v(" "),s("div",{staticClass:"m-scroll"},[s("ul",{staticClass:"m-modal-award-ul"},[s("li",[s("div",{staticClass:"m-modal-award-img-box"},[s("img",{staticClass:"m-modal-award-img",attrs:{src:"",alt:""}}),t._v(" "),s("div",[s("h3",[t._v("观看视频1")]),t._v(" "),s("p",{staticClass:"m-modal-award-complete"},[s("span",[t._v("完成 0/1")])])])]),t._v(" "),s("span",{staticClass:"m-modal-award-btn"},[t._v("做任务")])]),t._v(" "),s("li",[s("div",{staticClass:"m-modal-award-img-box"},[s("img",{staticClass:"m-modal-award-img",attrs:{src:"",alt:""}}),t._v(" "),s("div",[s("h3",[t._v("观看视频1")]),t._v(" "),s("p",{staticClass:"m-modal-award-complete"},[s("span",[t._v("完成 0/1")])])])]),t._v(" "),s("span",{staticClass:"m-modal-award-btn active"},[t._v("做任务")])]),t._v(" "),s("li",[s("div",{staticClass:"m-modal-award-img-box"},[s("img",{staticClass:"m-modal-award-img",attrs:{src:"",alt:""}}),t._v(" "),s("div",[s("h3",[t._v("观看视频1")]),t._v(" "),s("p",{staticClass:"m-modal-award-complete"},[s("span",[t._v("完成 0/1")]),s("span",{staticClass:"m-red"},[t._v("首单佣金翻倍")])])])]),t._v(" "),s("span",{staticClass:"m-modal-award-btn"},[t._v("做任务")])]),t._v(" "),s("li",[s("div",{staticClass:"m-modal-award-img-box"},[s("img",{staticClass:"m-modal-award-img",attrs:{src:"",alt:""}}),t._v(" "),s("div",[s("h3",[t._v("观看视频1")]),t._v(" "),s("p",{staticClass:"m-modal-award-complete"},[s("span",[t._v("完成 0/1")])])])]),t._v(" "),s("span",{staticClass:"m-modal-award-btn"},[t._v("做任务")])])])]),t._v(" "),s("div",{staticClass:"m-modal-award-rule"},[s("h3",[t._v("规则")]),t._v(" "),s("p",{staticClass:"m-modal-award-rule-info"},[t._v("\n            完成任务领取奖励balbalalabanal\n            bababa\n          ")])])])}]};var p=s("VU/8")(f,g,!1,function(t){s("0Gzh")},null,null);a.default=p.exports},ieIn:function(t,a){}});
//# sourceMappingURL=8.124c8752135495e2f156.js.map