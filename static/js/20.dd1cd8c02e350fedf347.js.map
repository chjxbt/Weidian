{"version":3,"sources":["webpack:///src/views/personal/setUp/bankCard.vue","webpack:///./src/views/personal/setUp/bankCard.vue?5c06","webpack:///./src/views/personal/setUp/bankCard.vue"],"names":["bankCard","data","bank_info","bcaddress","bcbankname","bcid","bcnumber","bcusername","show_modal","code_box","count","isDel","tel","components","mounted","this","getInfo","methods","_this","axios_default","a","get","api","get_mybankcard","params","token","localStorage","getItem","then","res","status","Object","mint_ui_common","message","className","error","sendCode","_this2","post","get_inforcode","usphone","timer","setInterval","show","clearInterval","changeModal","v","s","Boolean","updateCard","_this3","join","length","verify_inforcode","ICcode","del_bankcard","BCid","$router","push","path","query","created","setUp_bankCard","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","substring","on","click","$event","_l","item","i","directives","name","rawName","value","expression","attrs","type","oninput","domProps","input","target","composing","$set","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/20.dd1cd8c02e350fedf347.js","sourcesContent":["<template>\r\n    <div class=\"m-bankCard\">\r\n      <div class=\"m-bankCard-box\">\r\n        <div class=\"m-one-card\">\r\n          <div class=\"m-bankCard-name\">{{bank_info.bcbankname}}</div>\r\n          <div class=\"m-bankCard-type\">储蓄卡</div>\r\n          <div class=\"m-bankCard-num\">******* ***** ***** ***{{bank_info.bcnumber.substring(bank_info.bcnumber.length-3)}}</div>\r\n          <span class=\"m-bankCard-cancel\" @click=\"changeModal(true,0)\">修改</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"m-bank-btn\">\r\n        <span @click=\"changeModal(true,1)\">解除绑定</span>\r\n      </div>\r\n\r\n      <div class=\"m-modal \" v-if=\"show_modal\">\r\n        <div class=\"m-modal-state m-bank-modal-state\">\r\n          <div class=\"m-modal-head m-bank\">\r\n            <p >输入验证码</p>\r\n            <span class=\"m-close\" @click=\"changeModal(false)\"> x </span>\r\n          </div>\r\n          <div class=\"m-modal-content m-bank-modal\">\r\n            <div class=\"m-bank-tel\">\r\n              <span>{{tel}}</span>\r\n              <span class=\"m-bank-time\" v-if=\"count >0\">{{count}}秒</span>\r\n              <span class=\"m-bank-time\" v-else @click=\"sendCode\">重发</span>\r\n            </div>\r\n            <ul class=\"m-bank-input-box\">\r\n              <template v-for=\"(item,i) in code_box\">\r\n                <li>\r\n                  <!--<input type=\"number\" maxlength=\"1\" v-model=\"code_box[i]\">-->\r\n                  <input type=\"number\" v-model=\"code_box[i]\" oninput=\"if(value.length>1)value=value.slice(0,1)\">\r\n                </li>\r\n              </template>\r\n            </ul>\r\n            <div class=\"m-bank-modal-btn\">\r\n              <span @click=\"updateCard(true)\" v-if=\"isDel\">修改银行卡</span>\r\n              <span @click=\"updateCard(false)\" v-else>修改银行卡</span>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import axios from 'axios';\r\n  import api from '../../../api/api';\r\n  import {Toast} from 'mint-ui';\r\n    export default {\r\n        data() {\r\n            return {\r\n                bank_info:{\r\n                  bcaddress: \"\",\r\n                  bcbankname: \"\",\r\n                  bcid: \"\",\r\n                  bcnumber: \"\",\r\n                  bcusername: \"\"\r\n                },\r\n              show_modal:false,\r\n              code_box:[\r\n                '','','','','',''\r\n              ],\r\n              count:0,\r\n              isDel:true,\r\n              tel:''\r\n            }\r\n        },\r\n        components: {},\r\n      mounted(){\r\n        this.getInfo();\r\n      },\r\n        methods: {\r\n          getInfo(){\r\n            axios.get(api.get_mybankcard,{\r\n              params:{\r\n                token:localStorage.getItem('token')\r\n              }\r\n            }).then(res => {\r\n              if(res.data.status == 200){\r\n                  this.bank_info = res.data.data;\r\n              }else{\r\n                Toast({ message: res.data.message, className: 'm-toast-fail' });\r\n              }\r\n            },error => {\r\n              Toast({ message: error.data.message, className: 'm-toast-fail' });            })\r\n          },\r\n          sendCode(){\r\n            const TIME_COUNT = 60;\r\n            axios.post(api.get_inforcode +'?token=' + localStorage.getItem('token')).then(res => {\r\n              if(res.data.status == 200){\r\n                Toast({ message: res.data.message, className: 'm-toast-success' });\r\n                this.tel = res.data.usphone;\r\n              }else{\r\n                Toast({ message: res.data.message, className: 'm-toast-fail' });\r\n                return false;\r\n              }\r\n            });\r\n            if (!this.timer) {\r\n              this.count = TIME_COUNT;\r\n              this.timer = setInterval(() => {\r\n                if (this.count > 0 && this.count <= TIME_COUNT) {\r\n                  this.count--;\r\n                } else {\r\n                  this.show = true;\r\n                  clearInterval(this.timer);\r\n                  this.timer = null;\r\n                }\r\n              }, 1000)\r\n            }\r\n          },\r\n          changeModal(v,s){\r\n            this.show_modal = v;\r\n            if(s === 0 || s===1){\r\n              this.isDel = Boolean(s);\r\n              this.sendCode();\r\n            }\r\n          },\r\n          updateCard(v){\r\n            if(this.code_box.join('').length <6){\r\n              return false;\r\n            }\r\n            axios.post(api.verify_inforcode+'?token=' + localStorage.getItem('token'),{\r\n              ICcode:this.code_box.join('')\r\n            }).then(res => {\r\n              if(res.data.status ==200){\r\n                if(v){\r\n                  axios.post(api.del_bankcard +'?token='+localStorage.getItem('token'),{\r\n                    BCid:this.bank_info.bcid\r\n                  }).then(res => {\r\n                    Toast({ message: res.data.message, className: 'm-toast-success' });\r\n                    this.$router.push({path:'/setUp',query:this.bank_info})\r\n                  })\r\n                }else{\r\n                  this.$router.push({path:'/addBankCard',query:this.bank_info})\r\n                }\r\n\r\n              }else{\r\n                Toast({ message: res.data.message, className: 'm-toast-fail' });\r\n              }\r\n            },error => {\r\n              Toast({ message: error.data.message, className: 'm-toast-fail' });            })\r\n          }\r\n        },\r\n        created() {\r\n\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"less\" rel=\"stylesheet/less\" >\r\n  @import \"../../../common/css/modal\";\r\n.m-bankCard{\r\n  background-color: #f2f5f7;\r\n  height: 100%;\r\n  padding: 0 35px;\r\n  .m-bankCard-box{\r\n    padding: 40px 0;\r\n    .m-one-card{\r\n      width: 680px;\r\n      height: 207px;\r\n      border-radius: 10px;\r\n      padding: 20px 0;\r\n      background-image: linear-gradient(to right, #37df8e, #12cca2);\r\n      box-shadow: 0 5px 13px 0 rgba(66, 66, 66, 0.43);\r\n      color: #fff;\r\n      position: relative;\r\n      div{\r\n        padding: 0 33px;\r\n        text-align: left;\r\n        line-height: 29px;\r\n        &.m-bankCard-name{\r\n          font-size: 26px;\r\n        }\r\n        &.m-bankCard-type{\r\n          font-size: 18px;\r\n          margin: 10px 0;\r\n        }\r\n        &.m-bankCard-num{\r\n          font-size: 30px;\r\n        }\r\n      }\r\n      .m-bankCard-cancel{\r\n        position: absolute;\r\n        right: 26px;\r\n        bottom: 20px;\r\n        border: 1px solid #fff;\r\n        padding: 5px 20px;\r\n      }\r\n    }\r\n  }\r\n  .m-bank-btn{\r\n    margin-top: 30px;\r\n    span{\r\n      display: inline-block;\r\n      width: 640px;\r\n      background-color: #e68b8b;\r\n      color: #fff;\r\n      font-size: 28px;\r\n      border-radius: 6px;\r\n      height: 70px;\r\n      line-height: 70px;\r\n    }\r\n  }\r\n}\r\n.m-bank-tel{\r\n  color: #a4a4a4;\r\n  font-size: 20px;\r\n  margin-top: 40px;\r\n  .m-bank-time{\r\n    display: inline-block;\r\n    width: 90px;\r\n    height: 32px;\r\n    line-height: 32px;\r\n    border: 1px solid #a4a4a4;\r\n    margin-left: 10px;\r\n  }\r\n}\r\n  .m-bank-input-box{\r\n    display: flex;\r\n    flex-flow: row;\r\n    align-items: center;\r\n    justify-content: space-around;\r\n    margin: 40px 0;\r\n    input{\r\n      display: block;\r\n      width: 66px;\r\n      height: 66px;\r\n      border: 1px solid #a4a4a4;\r\n      box-shadow: 0.8px 0.5px 1px 0 rgba(66, 66, 66, 0.55);\r\n      text-align: center;\r\n      font-size: 30px;\r\n    }\r\n\r\n  }\r\n.m-bank-modal-btn{\r\n  span{\r\n    display: inline-block;\r\n    width: 160px;\r\n    height: 46px;\r\n    border: 1px solid #a4a4a4;\r\n    border-radius: 10px;\r\n    line-height: 46px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/personal/setUp/bankCard.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-bankCard\"},[_c('div',{staticClass:\"m-bankCard-box\"},[_c('div',{staticClass:\"m-one-card\"},[_c('div',{staticClass:\"m-bankCard-name\"},[_vm._v(_vm._s(_vm.bank_info.bcbankname))]),_vm._v(\" \"),_c('div',{staticClass:\"m-bankCard-type\"},[_vm._v(\"储蓄卡\")]),_vm._v(\" \"),_c('div',{staticClass:\"m-bankCard-num\"},[_vm._v(\"******* ***** ***** ***\"+_vm._s(_vm.bank_info.bcnumber.substring(_vm.bank_info.bcnumber.length-3)))]),_vm._v(\" \"),_c('span',{staticClass:\"m-bankCard-cancel\",on:{\"click\":function($event){_vm.changeModal(true,0)}}},[_vm._v(\"修改\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"m-bank-btn\"},[_c('span',{on:{\"click\":function($event){_vm.changeModal(true,1)}}},[_vm._v(\"解除绑定\")])]),_vm._v(\" \"),(_vm.show_modal)?_c('div',{staticClass:\"m-modal \"},[_c('div',{staticClass:\"m-modal-state m-bank-modal-state\"},[_c('div',{staticClass:\"m-modal-head m-bank\"},[_c('p',[_vm._v(\"输入验证码\")]),_vm._v(\" \"),_c('span',{staticClass:\"m-close\",on:{\"click\":function($event){_vm.changeModal(false)}}},[_vm._v(\" x \")])]),_vm._v(\" \"),_c('div',{staticClass:\"m-modal-content m-bank-modal\"},[_c('div',{staticClass:\"m-bank-tel\"},[_c('span',[_vm._v(_vm._s(_vm.tel))]),_vm._v(\" \"),(_vm.count >0)?_c('span',{staticClass:\"m-bank-time\"},[_vm._v(_vm._s(_vm.count)+\"秒\")]):_c('span',{staticClass:\"m-bank-time\",on:{\"click\":_vm.sendCode}},[_vm._v(\"重发\")])]),_vm._v(\" \"),_c('ul',{staticClass:\"m-bank-input-box\"},[_vm._l((_vm.code_box),function(item,i){return [_c('li',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.code_box[i]),expression:\"code_box[i]\"}],attrs:{\"type\":\"number\",\"oninput\":\"if(value.length>1)value=value.slice(0,1)\"},domProps:{\"value\":(_vm.code_box[i])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.code_box, i, $event.target.value)}}})])]})],2),_vm._v(\" \"),_c('div',{staticClass:\"m-bank-modal-btn\"},[(_vm.isDel)?_c('span',{on:{\"click\":function($event){_vm.updateCard(true)}}},[_vm._v(\"修改银行卡\")]):_c('span',{on:{\"click\":function($event){_vm.updateCard(false)}}},[_vm._v(\"修改银行卡\")])])])])]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-91e116dc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/personal/setUp/bankCard.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-91e116dc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./bankCard.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./bankCard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./bankCard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-91e116dc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./bankCard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/personal/setUp/bankCard.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}