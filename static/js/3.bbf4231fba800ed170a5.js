webpackJsonp([3],{AMDm:function(t,s,i){"use strict";var e=i("Au9i"),a=(i("mtWM"),i("P9l9"),{data:function(){return{name:"productQuantity",quantitys:this.quantity,inputValue:1}},props:{quantity:{type:Number,default:1},id:{type:String,default:null},item:{type:Number,default:null}},methods:{postQuantity:function(){null!=this.item?this.$emit("changeNum",this.quantitys,this.item):this.$emit("changeNum",this.quantitys)},deductQuantity:function(){this.quantitys>1&&(this.quantitys-=1,this.postQuantity())},changeQuantity:function(){var t=this;Object(e.MessageBox)({$type:"prompt",title:"修改购买数量",message:" ",inputPattern:/^[0-9]/,inputErrorMessage:"数量必须为数字",showInput:!0}).then(function(s){s.value;"confirm"==s.action&&t.postQuantity()})},addQuantity:function(){this.quantitys+=1,this.postQuantity()}},created:function(){this.inputValue=this.quantitys}}),c={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"product-quantity m-ft-24"},[i("div",{staticClass:"deduct-add",on:{click:t.deductQuantity}},[t._v("-")]),t._v(" "),i("div",{staticClass:"quantity",on:{click:t.changeQuantity}},[t._v(t._s(t.quantitys))]),t._v(" "),i("div",{staticClass:"deduct-add",on:{click:t.addQuantity}},[t._v("+")])])},staticRenderFns:[]};var o=i("VU/8")(a,c,!1,function(t){i("hH3G")},null,null);s.a=o.exports},CgRU:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("aJjY"),a=i("P9l9"),c=i("mtWM"),o=i.n(c),n=i("Au9i"),l=i("CaOM"),r={data:function(){return{name:"productDetail",collectionVisible:!1,ownerVisible:!0,commitmentList:["正品保障","发货&售后","七天退货","先行赔付"],evaluationTabs:["衣服不错(50)","面料好(30)","穿着舒服(30)"],evaluationPictures:["http://image2.suning.cn/content/catentries/00000000010295/000000000102956200/fullimage/000000000102956200_8f.jpg","http://image4.suning.cn/content/catentries/00000000010292/000000000102925077/fullimage/000000000102925077_6f.jpg","http://img0.imgtn.bdimg.com/it/u=12035839,3404122673&fm=26&gp=0.jpg","http://image3.suning.cn/content/catentries/00000000010295/000000000102955143/fullimage/000000000102955143_2f.jpg"],brandList:[],product_info:null,params_options:null,sku:[],is_vip:!1,choose:null,is_choose:!1,quantity:1,click_add:!1}},components:{productParams:e.a},methods:{getInfo:function(){var t=this;o.a.get(a.a.get_one_product,{params:{prid:this.$route.query.prid,token:localStorage.getItem("token")}}).then(function(s){200==s.data.status&&(t.product_info=s.data.data,t.params_options=s.data.data.sku_value.psvpropervalue,t.sku=s.data.data.sku)})},postCar:function(){var t=this;o.a.post(a.a.update_shoppingcart+"?token="+localStorage.getItem("token"),{pskid:this.choose[0].pskid,update_num:this.quantity}).then(function(s){200==s.data.status&&(t.click_add=!1,Object(n.Toast)({message:"已添加到购物车",className:"m-toast-success"}))})},backPage:function(){},collection:function(){this.collectionVisible?this.collectionVisible=!1:this.collectionVisible||(this.collectionVisible=!0)},carChoose:function(t,s){this.choose=t,this.quantity=s,this.click_add&&this.postCar()},shareProduct:function(){},getEvaluation:function(){},moreEvaluation:function(){},toService:function(){},buyNow:function(){this.$router.push({path:"/submitOrder",query:{order:""}})},addCart:function(){this.choose?this.postCar():(this.is_choose=!0,this.click_add=!0)},closeModal:function(){this.is_choose=!1},imgsDone:function(){var t=this;this.$http.get("https://html.weidiango.com/FpwgKaxAfZdnsiIyDV2ZCbWLNmt8").then(function(s){t.brandList=s.data.split("data-src="),t.brandList.splice(0,1);for(var i=0;i<t.brandList.length;i++)t.brandList[i]=t.brandList[i].match(/"(\S*)" data-ext="jpeg"/)[1],t.brandList[i]="https://img.weidiango.com/"+t.brandList[i];console.log(t.brandList)},function(t){console.log("error",t)})},toCart:function(){this.$router.push("/shopping/index")}},mounted:function(){this.imgsDone(),this.getInfo(),l.a.changeTitle("商品详情"),0==localStorage.getItem("user_level")?this.is_vip=!1:this.is_vip=!0},created:function(){this.$route.query.prid}},u={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return null!=t.product_info?i("div",[i("img",{staticClass:"product-img",attrs:{src:t.product_info.prmainpic}}),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"product-prices"},[i("span",{staticClass:"new-price m-ft-38 m-black m-ft-b"},[t._v("￥"+t._s(t.product_info.prprice))]),t._v(" "),i("span",{staticClass:"old-price m-grey m-ft-28"},[t._v("￥"+t._s(t.product_info.proldprice))]),t._v(" "),t.is_vip?i("span",{staticClass:"make-money m-ft-38 m-red m-ft-b tl"},[t._v("赚"+t._s(t.product_info.prsavemonty))]):i("span",{staticClass:"make-money m-ft-38 m-red m-ft-b tl"}),t._v(" "),t.collectionVisible?i("img",{staticClass:"collection-share-img",attrs:{src:"/static/images/icon-unlike.png"},on:{click:t.collection}}):t._e(),t._v(" "),t.collectionVisible?t._e():i("img",{staticClass:"collection-share-img",attrs:{src:"/static/images/icon-like.png"},on:{click:t.collection}}),t._v(" "),i("img",{staticClass:"collection-share-img",attrs:{src:"/static/images/icon-share.png"},on:{click:t.shareProduct}})]),t._v(" "),i("div",{staticClass:"product-name m-ft-32 tl"},[t._v(t._s(t.product_info.prtitle))]),t._v(" "),i("div",{staticClass:"product-buyer-quantity m-ft-28 m-grey tl"},[t._v(t._s(t.product_info.prsoldnum)+"人购买")]),t._v(" "),t.is_vip?t._e():i("div",{staticClass:"owner-price m-ft-26 m-bg-main-color"},[i("img",{staticClass:"owner-price-img",attrs:{src:"/static/images/icon-radio.png"}}),t._v(" "),i("span",{staticClass:"owner-price-one tl"},[t._v("店主价￥"+t._s(t.product_info.prkeeperprice))]),t._v(" "),i("span",{staticClass:"owner-price-two tr"},[t._v("成为店主 >")])]),t._v(" "),t._l(t.commitmentList,function(s){return i("div",{staticClass:"product-commitment"},[i("img",{staticClass:"commitment-img",attrs:{src:"/static/images/commitment.png"}}),t._v(" "),i("div",{staticClass:"commitment-text"},[t._v(t._s(s))])])}),t._v(" "),i("product-params",{attrs:{choose:t.is_choose,quantity:t.quantity,options:t.params_options,price:t.product_info.prprice,sku:t.sku},on:{carChoose:t.carChoose,closeModal:t.closeModal}}),t._v(" "),i("div",{staticClass:"rectangular"}),t._v(" "),t._m(1),t._v(" "),t._l(t.evaluationTabs,function(s){return i("div",{staticClass:"evaluation-tabs"},[i("div",{staticClass:"evaluation-tab m-ft-20",on:{click:t.getEvaluation}},[t._v(t._s(s))])])}),t._v(" "),i("div",{staticClass:"one-evaluation"},[t._m(2),t._v(" "),i("div",{staticClass:"evaluation-text m-ft-20 m-grey-color"},[t._v("一级赞！很喜欢这个裤子 面料很挺一级赞！很喜欢这个裤子 面料很挺一级赞！很喜欢这个裤子 面料很挺一级赞！很喜欢这个裤子 面料很挺一级赞！很喜欢这个裤子 面料很挺一级赞！很喜欢这个裤子 面料很挺")]),t._v(" "),t._l(t.evaluationPictures,function(t){return i("span",{staticClass:"evaluation-pictures"},[i("img",{staticClass:"evaluation-picture",attrs:{src:t}})])}),t._v(" "),i("div",{staticClass:"more-evaluation m-ft-20 m-grey-color",on:{click:t.moreEvaluation}},[t._v("查看更多>>")])],2),t._v(" "),t._m(3),t._v(" "),i("div",{staticClass:"product-detail-text m-ft-22 m-grey-color"},[t._v("—— 详情 ——")]),t._v(" "),i("ul",{staticStyle:{"margin-bottom":"15%"}},t._l(t.product_info.images,function(t){return i("li",[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.piurl,expression:"brand.piurl"}],staticClass:"detail-img"})])})),t._v(" "),i("div",{staticClass:"to-buy"},[i("span",{staticClass:"service-add",on:{click:t.toService}},[i("img",{staticClass:"to-buy-icon m-ft-20",attrs:{src:"/static/images/product_detail_service.png"}}),t._v(" "),i("p",{staticClass:"to-buy-text m-ft-20"},[t._v("客服")])]),t._v(" "),i("span",{staticClass:"service-add",on:{click:t.toCart}},[i("img",{staticClass:"to-buy-icon m-ft-20",attrs:{src:"/static/images/produc_detail_shopping_cart.png"}}),t._v(" "),i("p",{staticClass:"to-buy-text m-ft-20"},[t._v("购物车")])]),t._v(" "),t.is_vip?t._e():i("div",{staticClass:"m-vip-btn m-normal m-ft-36 ",on:{click:t.addCart}},[i("p",[t._v("加入购物车")])]),t._v(" "),t.is_vip?t._e():i("div",{staticClass:"m-vip-btn m-normal m-ft-36 active",on:{click:t.buyNow}},[i("p",[t._v("立即购买")])]),t._v(" "),t.is_vip?i("div",{staticClass:"m-vip-btn m-ft-36 ",on:{click:t.addCart}},[i("p",[t._v("买")]),t._v(" "),i("p",{staticClass:"m-ft-24"},[t._v("省￥6.5")])]):t._e(),t._v(" "),t.is_vip?i("div",{staticClass:"m-vip-btn m-ft-36 active",on:{click:t.buyNow}},[i("p",[t._v("卖")]),t._v(" "),i("p",{staticClass:"m-ft-24"},[t._v("赚￥6.5")])]):t._e()])],2):t._e()},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"product-activity m-ft-26 m-bg-main-color"},[s("span",{staticClass:"activity-text-one"},[this._v("限时特卖")]),this._v(" "),s("span",{staticClass:"activity-text-two tr"},[this._v("距离结束仅剩")]),this._v(" "),s("span",{staticClass:"activity-text-three"},[this._v("2天07时11分28秒")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"product-evaluation"},[s("div",{staticClass:"evaluation-title m-ft-26 m-grey-color b"},[this._v("商品评价（99+）")]),this._v(" "),s("div",{staticClass:"applause-rate m-ft-26 m-grey m-ft-b tr"},[this._v("好评率99.8%")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"evaluator"},[s("img",{staticClass:"evaluator-img",attrs:{src:"http://a.hiphotos.baidu.com/zhidao/pic/item/21a4462309f79052782f28490ff3d7ca7bcbd591.jpg"}}),this._v(" "),s("div",{staticClass:"evaluator-name m-grey m-ft-20"},[this._v("欣**3")])])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"recommended"},[i("div",{staticClass:"recommended-title m-ft-22 m-grey-color"},[t._v("—— 配套推荐 ——")]),t._v(" "),i("div",{staticClass:"recommended-imgs"},[i("div",{staticClass:"recommended-box"},[i("img",{staticClass:"recommended-img",attrs:{src:"http://v1.51camel.com/Resources/uploadFile/L_Logo/largepic/20110509135116.jpg"}}),t._v(" "),i("p",{staticClass:"recommended-name m-ft-20 m-grey-color"},[t._v("太阳帽女防晒防太阳帽女防晒防")]),t._v(" "),i("p",{staticClass:"recommended-price m-ft-22 m-red"},[t._v("￥160")])]),t._v(" "),i("div",{staticClass:"recommended-box"},[i("img",{staticClass:"recommended-img",attrs:{src:"http://v1.51camel.com/Resources/uploadFile/L_Logo/largepic/20110509135116.jpg"}}),t._v(" "),i("p",{staticClass:"recommended-name m-ft-20 m-grey-color"},[t._v("太阳帽女防晒防")]),t._v(" "),i("p",{staticClass:"recommended-price m-ft-22 m-red"},[t._v("￥160")])]),t._v(" "),i("div",{staticClass:"recommended-box"},[i("img",{staticClass:"recommended-img",attrs:{src:"http://v1.51camel.com/Resources/uploadFile/L_Logo/largepic/20110509135116.jpg"}}),t._v(" "),i("p",{staticClass:"recommended-name m-ft-20 m-grey-color"},[t._v("太阳帽女防晒防")]),t._v(" "),i("p",{staticClass:"recommended-price m-ft-22 m-red"},[t._v("￥160")])]),t._v(" "),i("div",{staticClass:"recommended-box"},[i("img",{staticClass:"recommended-img",attrs:{src:"http://v1.51camel.com/Resources/uploadFile/L_Logo/largepic/20110509135116.jpg"}}),t._v(" "),i("p",{staticClass:"recommended-name m-ft-20 m-grey-color"},[t._v("太阳帽女防晒防")]),t._v(" "),i("p",{staticClass:"recommended-price m-ft-22 m-red"},[t._v("￥160")])]),t._v(" "),i("div",{staticClass:"recommended-box"},[i("img",{staticClass:"recommended-img",attrs:{src:"http://v1.51camel.com/Resources/uploadFile/L_Logo/largepic/20110509135116.jpg"}}),t._v(" "),i("p",{staticClass:"recommended-name m-ft-20 m-grey-color"},[t._v("太阳帽女防晒防")]),t._v(" "),i("p",{staticClass:"recommended-price m-ft-22 m-red"},[t._v("￥160")])]),t._v(" "),i("div",{staticClass:"recommended-box"},[i("img",{staticClass:"recommended-img",attrs:{src:"http://v1.51camel.com/Resources/uploadFile/L_Logo/largepic/20110509135116.jpg"}}),t._v(" "),i("p",{staticClass:"recommended-name m-ft-20 m-grey-color"},[t._v("太阳帽女防晒防")]),t._v(" "),i("p",{staticClass:"recommended-price m-ft-22 m-red"},[t._v("￥160")])])])])}]};var m=i("VU/8")(r,u,!1,function(t){i("MozM")},"data-v-5e69ae49",null);s.default=m.exports},MozM:function(t,s){},aJjY:function(t,s,i){"use strict";var e={data:function(){return{name:"productParams",popupVisible:this.choose,prompt:"请选择规格",sel:[],colorSizeList:[],id:"",all_sku:null,surplus_value:null,select_num:this.quantity,option:null,num:null,show_num:!1}},components:{productQuantity:i("AMDm").a},props:{choose:{type:Boolean,default:!1},size:{type:String,default:null},color:{type:String,default:null},quantity:{type:Number,default:1},options:{type:Array,default:[]},selects:{type:Array,default:null},sku:{type:Array,default:null},price:{type:Number,default:null},item:{type:Number,default:null},number:{type:Number,default:null}},watch:{choose:function(t,s){this.popupVisible=t}},mounted:function(){for(var t=this.options,s=0;s<t.length;s++)for(var i=0;i<t[s].values.length;i++)t[s].values[i].active=!0;this.option=[].concat(t),this.number&&(this.num=this.number,this.show_num=!0),this.selects?this.colorSizeList=[].concat(this.selects):this.colorSizeList=new Array(this.option.length);for(var e=this.sku,a=0;a<e.length;a++){for(var c="",o=0;o<e[a].pskproperkey.length;o++)c+=e[a].pskproperkey[o].vid;e[a].id_arr=c}this.surplus_value=[].concat(e),this.all_sku=[].concat(e),this.selects&&this.clickSku(0,this.selects[0].vid,!0)},methods:{closeModal:function(){this.popupVisible=!1,this.$emit("closeModal")},productParams:function(){if(this.popupVisible)this.popupVisible=!1;else if(!this.popupVisible){if(this.popupVisible=!0,this.selects)for(var t=0;t<this.selects.length;t++)for(var s=0;s<this.option[t].values.length;s++)this.option[t].values[s].vid!=this.selects[t].vid||(this.sel[t]=s);this.changePrompt()}},select:function(t,s){this.sel[t]=s,this.sel=this.sel.concat([]),this.colorSizeList[t]=this.option[t].values[s],this.changePrompt(),this.clickSku(t,this.option[t].values[s],!1,this.option[t].kid)},changePrompt:function(){for(var t=0;t<this.colorSizeList.length;t++)if(!this.colorSizeList[t])return this.prompt="请选择 "+this.option[t].key,!1;for(var s="",i=0;i<this.colorSizeList.length;i++)s=s+" "+this.option[i].key+":"+this.colorSizeList[i].value;this.prompt=s},chooseDone:function(){for(var t=0;t<this.colorSizeList.length;t++)if(!this.colorSizeList[t])return!1;this.popupVisible=!1,null!=this.item?this.$emit("carChoose",this.surplus_value,this.select_num,this.item):this.$emit("carChoose",this.surplus_value,this.select_num)},clickSku:function(t,s,i,e){for(var a=[],c="",o=0;o<this.colorSizeList.length;o++)this.colorSizeList[o]&&(c+=this.colorSizeList[o].vid);for(var n=0;n<this.all_sku.length;n++)if(this.all_sku[n].id_arr.length==c.length&&this.all_sku[n].id_arr==c)a.push(this.all_sku[n]);else for(var l=0;l<this.all_sku[n].pskproperkey.length;l++)this.all_sku[n].pskproperkey[l].vid==c&&a.push(this.all_sku[n]);1==a.length&&(this.num=a[0].pskproductnum),console.log(a),this.surplus_value=[].concat(a)},changeNum:function(t,s){this.select_num=t}},created:function(){}},a={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"product-params"},[i("div",{staticClass:"product-params-choose",on:{click:t.productParams}},[t.selects?t._e():i("div",{staticClass:"product-params-text m-ft-26 m-grey tl"},[t._v(t._s(t.prompt))]),t._v(" "),t.selects?i("div",{staticClass:"product-params-text m-ft-26 m-grey tl m-ml-0"},[t._l(t.selects,function(s,e){return[i("span",{staticClass:"product-params-detail  m-grey"},[t._v(" "+t._s(s.key)+":"+t._s(s.value)+" ")])]})],2):t._e(),t._v(" "),i("img",{staticClass:"more-params",attrs:{src:"/static/images/icon-list-right.png"}})]),t._v(" "),i("mt-popup",{attrs:{position:"bottom"},model:{value:t.popupVisible,callback:function(s){t.popupVisible=s},expression:"popupVisible"}},[i("div",{staticClass:"product-params-content"},[i("img",{staticClass:"product-img",attrs:{src:"/static/images/product1.png"}}),t._v(" "),i("div",{staticClass:"product-params-center"},[t.surplus_value&&1==t.surplus_value.length?i("p",{staticClass:"product-price m-ft-20 m-red m-ft-b tl"},[t._v("￥"),i("span",{staticClass:"m-ft-34"},[t._v(t._s(t.surplus_value[0].pskprice))])]):i("p",{staticClass:"product-price m-ft-20 m-red m-ft-b tl"},[t._v("￥"),i("span",{staticClass:"m-ft-34"},[t._v(t._s(t.price))])]),t._v(" "),i("div",{staticClass:"choose-prompt m-ft-26 tl"},[t._v(t._s(t.prompt)+"   库存："+t._s(t.num))])]),t._v(" "),i("img",{staticClass:"close-popup",attrs:{src:"/static/images/delete.png"},on:{click:t.closeModal}})]),t._v(" "),i("div",{staticClass:"line"}),t._v(" "),t._l(t.option,function(s,e){return i("div",{staticClass:"product-size-color"},[i("p",{staticClass:"product-size-color-text m-ft-30 tl"},[t._v(t._s(s.key))]),t._v(" "),t._l(s.values,function(s,a){return[s.active?i("span",{class:{select:t.colorSizeList[e]&&t.colorSizeList[e].vid==s.vid},on:{click:function(s){t.select(e,a)}}},[t._v(t._s(s.value))]):i("span",{staticClass:"m-cancel"},[t._v(t._s(s.value))])]})],2)}),t._v(" "),i("div",{staticClass:"line"}),t._v(" "),i("div",{staticClass:"product-quantity"},[i("div",{staticClass:"product-quantity-text m-ft-30 tl"},[t._v("购买数量")]),t._v(" "),i("product-quantity",{staticClass:"product-quantity-edit",attrs:{quantity:t.quantity},on:{changeNum:t.changeNum}})],1),t._v(" "),t.num?i("div",{staticClass:"choose-done m-ft-28 m-bg-main-color",on:{click:t.chooseDone}},[t._v("确定")]):i("div",{staticClass:"choose-done m-ft-28 m-choose-cancel"},[t._v("确定")])],2)],1)},staticRenderFns:[]};var c=i("VU/8")(e,a,!1,function(t){i("sy9j")},null,null);s.a=c.exports},hH3G:function(t,s){},sy9j:function(t,s){}});
//# sourceMappingURL=3.bbf4231fba800ed170a5.js.map