webpackJsonp([10],{Cj6d:function(t,e,s){"use strict";var a={data:function(){return{name:""}},props:{item:{type:Object,default:null}},methods:{orderClick:function(t){console.log(t,"订单"),this.$router.push({path:"/orderStatus",query:{oiid:t.oiid}})}},created:function(){}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"m-one-order",on:{click:function(e){t.orderClick(t.item)}}},[s("div",{staticClass:"m-one-order-top"},[s("img",{staticClass:"m-product-img",attrs:{src:t.item.productinfo.opiproductimages,alt:""}}),t._v(" "),s("div",{staticClass:"m-product-info"},[s("p",{staticClass:"m-product-name"},[t._v(t._s(t.item.productinfo.opiproductname))]),t._v(" "),s("p",{staticClass:"m-order-code"},[s("span",[t._v("订单号："+t._s(t.item.oisn))]),t._v(" "),1==t.item.oipaystatus?s("span",{staticClass:"m-order-btn"},[t._v("订单付款")]):7==t.item.oipaystatus?s("span",{staticClass:"m-order-btn active"},[t._v("确认收货")]):8==t.item.oipaystatus?s("span",{staticClass:"m-flex-center-col"},[s("span",[t._v("交易失败")]),t._v(" "),s("span",[t._v("（退货）")])]):3==t.item.oipaystatus?s("span",{staticClass:"m-flex-center-col"},[s("span",[t._v("支付超时")])]):s("span",{staticClass:"m-red"},[t._v(t._s(t.item.oipaystatusmsg))])])])]),t._v(" "),t._m(0),t._v(" "),s("p",{staticClass:"m-order-time"},[t._v(t._s(t.item.oicreatetime.slice(0,4))+"-"+t._s(t.item.oicreatetime.slice(4,6))+"-"+t._s(t.item.oicreatetime.slice(6,8))+" "+t._s(t.item.oicreatetime.slice(8,10))+":"+t._s(t.item.oicreatetime.slice(10,12))+":"+t._s(t.item.oicreatetime.slice(12,14))+"  创建")])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"m-one-order-money"},[s("li",[s("span",[t._v("付款金额")]),t._v(" "),s("span",{staticClass:"m-red m-ft-b"},[t._v("￥29.36")])]),t._v(" "),s("li",[s("span",[t._v("成交预估收入")]),t._v(" "),s("span",{staticClass:"m-red m-ft-b"},[t._v("￥29.36")])]),t._v(" "),s("li",[s("span",[t._v("收入来源")]),t._v(" "),s("span",{staticClass:"m-red m-ft-b"},[t._v("省钱了29.36")])])])}]};var n=s("VU/8")(a,i,!1,function(t){s("JYQY")},"data-v-145ef8f1",null);e.a=n.exports},JYQY:function(t,e){},oWKk:function(t,e){},uAJB:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Cj6d"),i=s("mtWM"),n=s.n(i),o=s("P9l9"),r=s("CaOM"),c=s("Au9i"),l={data:function(){return{name:"",order_list:[],page_size:3,page_num:1,total_count:0,isScroll:!0,order_num:[],isOpen:!0,isSell:!0,bottom_show:!1}},components:{oneOrder:a.a},mounted:function(){this.isOpen="partner"==localStorage.getItem("level"),r.a.changeTitle("我的订单")},methods:{getOrderNum:function(){var t=this;n.a.get(o.a.get_order_count,{params:{token:localStorage.getItem("token"),sell:this.isSell}}).then(function(e){if(200==e.data.status){t.order_num=[].concat(e.data.data);for(var s=0;s<t.order_num.length;s++)t.order_num[s].click=!1;t.order_num[0].click=!0,t.getOrder()}else Object(c.Toast)({message:e.data.message,className:"m-toast-fail"})},function(t){Object(c.Toast)({message:t.data.message,className:"m-toast-fail"})})},getOrder:function(t){for(var e=this,s="",a=0;a<this.order_num.length;a++)this.order_num[a].click&&(s=this.order_num[a].statusnum);n.a.get(o.a.get_list_order,{params:{token:localStorage.getItem("token"),page_num:t||1,page_size:this.page_size||10,sell:this.isSell,paystatus:s}}).then(function(s){if(200==s.data.status){for(var a=0;a<s.data.data.length;a++)s.data.data[a].click=!1;e.total_count=s.data.totalcount,e.order_list=t?e.order_list.concat(s.data.data):[].concat(s.data.data)}else Object(c.Toast)({message:s.data.message,className:"m-toast-fail"})},function(t){Object(c.Toast)({message:t.data.message,className:"m-toast-fail"})})},sellClick:function(t){if(this.sell==t)return!1;this.isSell=t,this.getOrderNum(),this.getOrder()},statusClick:function(t){if(this.order_num[t].click)return!1;for(var e=[].concat(this.order_num),s=0;s<e.length;s++)e[s].click=!1;e[t].click=!0,this.order_num=[].concat(e),this.getOrder()},touchMove:function(){var t=r.a.getScrollTop(),e=r.a.getScrollHeight();t+r.a.getClientHeight()>=e-10&&this.isScroll&&(this.isScroll=!1,this.order_list.length==this.total_count?this.bottom_show=!0:(this.page_num=this.page_num+1,this.getOrder(this.page_num)))}},created:function(){this.getOrderNum()}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"m-myOrder"},[s("div",{staticClass:"m-order-top"},[t.isOpen?s("div",{staticClass:"m-myOrder-nav"},[s("span",{class:t.isSell?"active":"",on:{click:function(e){t.sellClick(!0)}}},[t._v("销售订单")]),t._v(" "),s("span",{class:t.isSell?"":"active",on:{click:function(e){t.sellClick(!1)}}},[t._v("自买订单")])]):t._e(),t._v(" "),t.isOpen?s("ul",{staticClass:"m-myOrder-content-nav"},[t._l(t.order_num,function(e,a){return[s("li",{class:e.click?"active":"",on:{click:function(e){t.statusClick(a)}}},[t._v("\n          "+t._s(e.status)+"("+t._s(e.count)+")\n        ")])]})],2):t._e(),t._v(" "),t.isOpen?t._e():s("ul",{staticClass:"m-myOrder-content-nav-open"},[t._l(t.order_num,function(e,a){return[s("li",{class:e.click?"active":"",on:{click:function(e){t.statusClick(a)}}},[t._v("\n          "+t._s(e.status)+"\n        ")])]})],2)]),t._v(" "),s("div",{staticClass:"m-myOrder-content",on:{touchmove:t.touchMove}},[t.order_list.length>0?s("div",{staticClass:"m-myOrder-list"},[t._l(t.order_list,function(t,e){return[s("one-order",{attrs:{item:t}})]})],2):s("div",{staticClass:"m-no-order"},[t._v("暂无订单")]),t._v(" "),t.bottom_show?s("div",{staticClass:"bottom-prompt"},[s("div",{staticClass:"bottom-line"}),t._v(" "),s("div",{staticClass:"m-grey-color"},[t._v("我是有底线的")]),t._v(" "),s("div",{staticClass:"bottom-line"})]):t._e()])])},staticRenderFns:[]};var u=s("VU/8")(l,m,!1,function(t){s("oWKk")},"data-v-9c6c8a2e",null);e.default=u.exports}});
//# sourceMappingURL=10.1e9e0ffd2c5d8116e409.js.map