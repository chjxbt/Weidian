webpackJsonp([1],{W2Q3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("mtWM"),o=n.n(a),i=n("P9l9"),s=n("CaOM"),c=n("Au9i"),r={data:function(){return{name:"",check:!0}},components:{},methods:{isWeiXin:function(){var e=window.navigator.userAgent.toLowerCase();return console.log(e),"micromessenger"==e.match(/MicroMessenger/i)},login:function(){if(this.check){var e=window.location.href;window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe8e8f6b9351d3587&redirect_uri="+encodeURIComponent(e)+"&response_type=code&scope=snsapi_userinfo&state=1#wechat_redirect"}},checkClick:function(){this.check=!this.check}},mounted:function(){var e=this;this.isWeiXin()&&s.a.GetQueryString("code")&&(window.localStorage.setItem("code",s.a.GetQueryString("code")),o.a.get(i.a.get_accesstoken,{params:{code:s.a.GetQueryString("code")}}).then(function(t){200==t.data.status?(window.localStorage.setItem("access_token",t.data.data.access_token),window.localStorage.setItem("token",t.data.data.token),window.localStorage.setItem("openid",t.data.data.openid),window.localStorage.setItem("is_first",t.data.data.is_first),e.$router.push("/index/index")):Object(c.Toast)({message:t.data.message,className:"m-toast-fail"})}))},created:function(){}},d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"m-login"},[t("img",{staticClass:"m-login-logo",attrs:{src:"",alt:""}}),this._v(" "),t("div",{staticClass:"m-login-btn"},[t("span",{on:{click:this.login}},[this._v("微信登录")])])])},staticRenderFns:[]};var l=n("VU/8")(r,d,!1,function(e){n("YxAJ")},null,null);t.default=l.exports},YxAJ:function(e,t){}});
//# sourceMappingURL=1.7cdbdfa7727600a25a2e.js.map