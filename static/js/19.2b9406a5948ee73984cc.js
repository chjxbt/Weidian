webpackJsonp([19],{"5qXv":function(a,t){},Prjl:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=e("XiPb"),l=e("MHye"),i=e("mtWM"),o=e.n(i),r=e("P9l9"),c={data:function(){return{page:"首页",name:"弹框管理",tab_list:[{name:"首页",url:"",active:!0},{name:"发现",url:"",active:!1},{name:"我的",url:"",active:!1}],tableData:[],options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],value:"",taskLevel:"",taskLevelList:[1,2,3,4],taskType:"",taskTypeList:[],imageUrl:"",labelPosition:"left",formIndex:{value:"",title:"",content:"",ratio:"",memo:"",rule:"",duration:""},pickerOptions2:{shortcuts:[{text:"最近七天",onClick:function(a){var t=new Date,e=new Date;e.setTime(e.getTime()-6048e5),a.$emit("pick",[e,t])}},{text:"最近三十天",onClick:function(a){var t=new Date,e=new Date;e.setTime(e.getTime()-2592e6),a.$emit("pick",[e,t])}},{text:"最近九十天",onClick:function(a){var t=new Date,e=new Date;e.setTime(e.getTime()-7776e6),a.$emit("pick",[e,t])}}]},value7:""}},components:{pageTitle:s.a,wTab:l.a},methods:{getAllTask:function(){var a=this;o.a.get(r.a.get_all_task+"?token="+localStorage.getItem("token")).then(function(t){if(200==t.data.status){a.tableData=t.data.data;for(var e=0;e<a.tableData.length;e++){switch(a.tableData[e].tatype){case 0:a.tableData[e].tatype=a.taskTypeList[0];break;case 1:a.tableData[e].tatype=a.taskTypeList[1];break;case 2:a.tableData[e].tatype=a.taskTypeList[2];break;case 3:a.tableData[e].tatype=a.taskTypeList[3]}var s=t.data.data[e].raward;a.tableData[e].reward="";for(var l=0;l<s.length;l++)0==s[l].ratype?(a.tableData[e].reward&&(a.tableData[e].reward=a.tableData[e].reward+" + "),a.tableData[e].reward=a.tableData[e].reward+s[l].ranumber+"张满"+s[l].rafilter+"-"+s[l].raamount+"新衣币"):1==s[l].ratype?(a.tableData[e].reward&&(a.tableData[e].reward=a.tableData[e].reward+" + "),1==s[l].ranumber?a.tableData[e].reward=a.tableData[e].reward+"售出首单佣金上涨"+s[l].raratio+"%":s[l].ranumber>1&&(a.tableData[e].reward=a.tableData[e].reward+"佣金上涨"+s[l].raratio+"%")):2==s[l].ratype&&(a.tableData[e].reward&&(a.tableData[e].reward=a.tableData[e].reward+" + "),a.tableData[e].reward=a.tableData[e].reward+s[l].ranumber+"张"+s[l].raamount+"元无门槛新衣币")}}else a.$message.error(t.data.message)},function(t){a.$message.error(t.data.message)})},getAllTaskType:function(){var a=this;o.a.get(r.a.get_all_task_type).then(function(t){200==t.data.status?(a.taskTypeList=t.data.data,console.log(a.taskTypeList)):a.$message.error(t.data.message)},function(t){a.$message.error(t.data.message)})},taskTypeChange:function(a){console.log(a)},handleClick:function(a){console.log(a)},deleteDone:function(){var a=this;this.$confirm("此操作将删除该任务, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$message({type:"success",message:"删除成功!"})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},submit:function(){var a=this;console.log(this.formIndex);var t=localStorage.getItem("token"),e={TAname:this.formIndex.title,TAtype:"0",TAhead:"xxx",TAlevel:"0",TArole:"xxx",TAcomplateNotifications:"xxx",RAid:"1",TAendTime:"",TAstartTime:"",TAduration:"",RAnumber:2,TAmessage:"",TAurl:"1"};o.a.post(r.a.add_task+"?token="+t,e).then(function(t){200==t.data.status?a.$message({message:t.data.message,type:"success"}):a.$message.error(t.data.message)},function(t){a.$message.error(t.data.message)})},wTabClick:function(a){for(var t=[].concat(this.tab_list),e=0;e<t.length;e++)t[e].active=!1;t[a].active=!0,this.page=t[a].name,this.tab_list=[].concat(t)},handleAvatarSuccess:function(){},beforeAvatarUpload:function(){}},mounted:function(){this.getAllTaskType(),this.getAllTask()}},n={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"m-weidian"},[e("page-title",{attrs:{title:a.name}}),a._v(" "),e("div",{staticClass:"m-weidian-content"},[e("w-tab",{attrs:{list:a.tab_list},on:{wTabClick:a.wTabClick}}),a._v(" "),"首页"==a.page?e("div",{staticClass:"m-index"},[e("div",{staticClass:"content-table"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:a.tableData,border:""}},[e("el-table-column",{attrs:{prop:"taname",label:"任务标题",width:"240"}}),a._v(" "),e("el-table-column",{attrs:{prop:"tatype",label:"任务类型",width:"240"}}),a._v(" "),e("el-table-column",{attrs:{prop:"reward",label:"奖励方式"}}),a._v(" "),e("el-table-column",{attrs:{fixed:"right",label:"管理",width:"240"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){a.handleClick(t.row)}}},[a._v("编辑")]),a._v(" "),e("el-button",{attrs:{type:"text",size:"small"}},[a._v("|")]),a._v(" "),e("el-button",{attrs:{type:"text",size:"small"},on:{click:a.deleteDone}},[a._v("删除")])]}}])})],1)],1),a._v(" "),e("h3",{staticClass:"m-title"},[a._v("浮窗管理")]),a._v(" "),e("el-form",{attrs:{"label-position":a.labelPosition,"label-width":"100px",model:a.formIndex}},[e("div",{staticClass:"m-form-item m-item-modal"},[e("el-form-item",{attrs:{label:"任务等级"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:a.taskLevel,callback:function(t){a.taskLevel=t},expression:"taskLevel"}},a._l(a.taskLevelList,function(a){return e("el-option",{key:a,attrs:{label:a,value:a}})}))],1),a._v(" "),e("el-form-item",{attrs:{label:"任务标题"}},[e("el-input",{staticClass:"m-input-m",model:{value:a.formIndex.title,callback:function(t){a.$set(a.formIndex,"title",t)},expression:"formIndex.title"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"任务类型"}},[e("el-select",{attrs:{placeholder:"请选择"},on:{change:a.taskTypeChange},model:{value:a.taskType,callback:function(t){a.taskType=t},expression:"taskType"}},a._l(a.taskTypeList,function(a){return e("el-option",{key:a,attrs:{label:a,value:a}})}))],1),a._v(" "),e("el-form-item",{staticClass:"m-s",attrs:{label:"图标"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":a.handleAvatarSuccess,"before-upload":a.beforeAvatarUpload}},[a.imageUrl?e("img",{staticClass:"avatar",attrs:{src:a.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a._v(" "),e("el-form-item",{attrs:{label:"内容"}},[e("el-input",{staticClass:"m-input-m",model:{value:a.formIndex.content,callback:function(t){a.$set(a.formIndex,"content",t)},expression:"formIndex.content"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"完成度"}},[e("el-input",{staticClass:"m-input-m",model:{value:a.formIndex.ratio,callback:function(t){a.$set(a.formIndex,"ratio",t)},expression:"formIndex.ratio"}})],1),a._v(" "),e("el-form-item",{staticClass:"m-f",attrs:{label:"完成提示"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":a.handleAvatarSuccess,"before-upload":a.beforeAvatarUpload}},[a.imageUrl?e("img",{staticClass:"avatar",attrs:{src:a.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),a._v(" "),e("el-form-item",{attrs:{label:"奖励方式"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:a.value,callback:function(t){a.value=t},expression:"value"}},a._l(a.options,function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}))],1),a._v(" "),e("el-form-item",{attrs:{label:"备注"}},[e("el-input",{staticClass:"m-input-m",model:{value:a.formIndex.memo,callback:function(t){a.$set(a.formIndex,"memo",t)},expression:"formIndex.memo"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"活动时间"}},[e("el-date-picker",{staticStyle:{width:"4rem"},attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":a.pickerOptions2},model:{value:a.value7,callback:function(t){a.value7=t},expression:"value7"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"持续时间"}},[e("el-input",{staticClass:"m-input-m",model:{value:a.formIndex.duration,callback:function(t){a.$set(a.formIndex,"duration",t)},expression:"formIndex.duration"}},[e("template",{slot:"append"},[a._v("天")])],2),a._v(" "),e("span",{staticClass:"m-item-add"},[a._v("+")])],1),a._v(" "),e("el-form-item",{attrs:{label:"规则"}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:a.formIndex.rule,expression:"formIndex.rule"}],staticClass:"m-textarea",domProps:{value:a.formIndex.rule},on:{input:function(t){t.target.composing||a.$set(a.formIndex,"rule",t.target.value)}}})])],1)],1):a._e(),a._v(" "),"发现"==a.page?e("div",{staticClass:"m-discovery"},[e("h3",{staticClass:"m-title"},[a._v("弹框图片")]),a._v(" "),e("div",{staticClass:"m-form-item"},[e("div",{staticClass:"m-item-content"},[e("div",{staticClass:" m-item-row m-f"},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":a.handleAvatarSuccess,"before-upload":a.beforeAvatarUpload}},[a.imageUrl?e("img",{staticClass:"avatar",attrs:{src:a.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)])])]):a._e(),a._v(" "),"我的"==a.page?e("div",{staticClass:"m-personal"},[e("div",{staticClass:"m-personal-left-right"},[e("h3",{staticClass:"m-title"},[a._v("规则弹框")]),a._v(" "),e("div",{staticClass:"m-form-item-box"},[e("div",{staticClass:"m-form-img-item"},[e("p",{staticClass:"m-form-label"},[a._v("等级规则（未开店）")]),a._v(" "),e("div",{staticClass:"m-item-content"},[e("div",{staticClass:" m-item-row m-f"},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":a.handleAvatarSuccess,"before-upload":a.beforeAvatarUpload}},[a.imageUrl?e("img",{staticClass:"avatar",attrs:{src:a.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)])]),a._v(" "),e("div",{staticClass:"m-form-img-item"},[e("p",{staticClass:"m-form-label"},[a._v("等级规则（已开店）")]),a._v(" "),e("div",{staticClass:"m-item-content"},[e("div",{staticClass:" m-item-row m-f"},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":a.handleAvatarSuccess,"before-upload":a.beforeAvatarUpload}},[a.imageUrl?e("img",{staticClass:"avatar",attrs:{src:a.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)])]),a._v(" "),e("div",{staticClass:"m-form-img-item"},[e("p",{staticClass:"m-form-label"},[a._v("专属粉丝管理规则")]),a._v(" "),e("div",{staticClass:"m-item-content"},[e("div",{staticClass:" m-item-row m-f"},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":a.handleAvatarSuccess,"before-upload":a.beforeAvatarUpload}},[a.imageUrl?e("img",{staticClass:"avatar",attrs:{src:a.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)])]),a._v(" "),e("div",{staticClass:"m-form-img-item"},[e("p",{staticClass:"m-form-label"},[a._v("开店邀请海报规则")]),a._v(" "),e("div",{staticClass:"m-item-content"},[e("div",{staticClass:" m-item-row m-f"},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":a.handleAvatarSuccess,"before-upload":a.beforeAvatarUpload}},[a.imageUrl?e("img",{staticClass:"avatar",attrs:{src:a.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)])])])]),a._v(" "),e("div",{staticClass:"m-personal-left-right"},[e("h3",{staticClass:"m-title"},[a._v("弹框图片")]),a._v(" "),e("div",{staticClass:"m-form-item-box"},[e("div",{staticClass:"m-form-img-item"},[e("p",{staticClass:"m-form-label"},[a._v("邀请专属粉丝海报")]),a._v(" "),e("div",{staticClass:"m-item-content"},[e("div",{staticClass:" m-item-row m-f"},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":a.handleAvatarSuccess,"before-upload":a.beforeAvatarUpload}},[a.imageUrl?e("img",{staticClass:"avatar",attrs:{src:a.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)])]),a._v(" "),e("div",{staticClass:"m-form-img-item"},[e("p",{staticClass:"m-form-label"}),a._v(" "),e("div",{staticClass:"m-item-content"},[e("div",{staticClass:" m-item-row m-f"},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":a.handleAvatarSuccess,"before-upload":a.beforeAvatarUpload}},[a.imageUrl?e("img",{staticClass:"avatar",attrs:{src:a.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)])]),a._v(" "),e("div",{staticClass:"m-form-img-item"},[e("p",{staticClass:"m-form-label"},[a._v("邀请开店海报")]),a._v(" "),e("div",{staticClass:"m-item-content"},[e("div",{staticClass:" m-item-row m-f"},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":a.handleAvatarSuccess,"before-upload":a.beforeAvatarUpload}},[a.imageUrl?e("img",{staticClass:"avatar",attrs:{src:a.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)])]),a._v(" "),e("div",{staticClass:"m-form-img-item"},[e("p",{staticClass:"m-form-label"}),a._v(" "),e("div",{staticClass:"m-item-content"},[e("div",{staticClass:" m-item-row m-f"},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":a.handleAvatarSuccess,"before-upload":a.beforeAvatarUpload}},[a.imageUrl?e("img",{staticClass:"avatar",attrs:{src:a.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)])])])])]):a._e(),a._v(" "),e("div",{staticClass:"m-form-confirm-btn "},["首页"==a.page?e("span",[a._v("暂停")]):a._e(),a._v(" "),e("span",{on:{click:a.submit}},[a._v("发布")])])],1)],1)},staticRenderFns:[]};var m=e("VU/8")(c,n,!1,function(a){e("5qXv")},null,null);t.default=m.exports}});
//# sourceMappingURL=19.2b9406a5948ee73984cc.js.map